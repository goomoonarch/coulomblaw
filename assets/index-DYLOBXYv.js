(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const l=document.getElementById("coulombCanvas"),f=l.getContext("2d");l.width=800;l.height=800;let c=[{x:100,y:100,charge:-1,movable:!1,inDipole:!1},{x:700,y:100,charge:1,movable:!1,inDipole:!1},{x:100,y:700,charge:-1,movable:!1,inDipole:!1},{x:700,y:700,charge:1,movable:!0,inDipole:!1}];const x=11e6,d=35;function m(){f.clearRect(0,0,l.width,l.height),c.forEach(e=>{f.beginPath(),f.arc(e.x,e.y,20,0,2*Math.PI),f.fillStyle=e.charge>0?"red":"blue",f.fill()})}let u=!1,a=null;l.addEventListener("mousedown",e=>{c.forEach(i=>{i.movable&&Math.sqrt((e.offsetX-i.x)**2+(e.offsetY-i.y)**2)<20&&(u=!0,a=i,i.inDipole=!1)})});l.addEventListener("mousemove",e=>{u&&a&&(a.x=e.offsetX,a.y=e.offsetY,m())});l.addEventListener("mouseup",()=>{u=!1,a=null,c.forEach(e=>{e.movable&&p()})});function p(){c.forEach(e=>{if(e.movable&&!u&&!e.inDipole){let i=b(e);v(e,i)}}),m(),requestAnimationFrame(p)}function b(e){let i=0,r=0;return c.forEach(s=>{if(s!==e&&!e.inDipole){let t=s.x-e.x,o=s.y-e.y,n=Math.sqrt(t*t+o*o);if(n<d&&e.charge*s.charge<0){e.inDipole=!0,e.x=s.x-(d+5)*(t/n),e.y=s.y-(d+5)*(o/n);return}let y=x*e.charge*s.charge/(n*n);i+=y*(t/n),r+=y*(o/n)}}),{fx:i,fy:r}}function v(e,i){e.inDipole||(e.x+=i.fx*-.01,e.y+=i.fy*-.01)}m();requestAnimationFrame(p);
